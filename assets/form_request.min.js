var form=$(".form-req-estimate"),target=null,first_tel=$("input[name='tel-first']"),mid_tel=$("input[name='tel-mid']"),end_tel=$("input[name='tel-end']");first_tel.bind("keyup keydown",digitInput);mid_tel.bind("keyup keydown",digitInput);end_tel.bind("keyup keydown",digitInput);function digitInput(){$(this).val($(this).val().replace(/[^0-9]/g,""))}$(".jp_submit_estimate").bind("click",function(b){b.preventDefault();if($(this).hasClass("js-jp-active")){alert("제출중입니다. 잠시만 기다려 주세요.");return}var a=$(this).attr("data-pos");console.info(a);target=form.eq(a);if(validateFormEstimate(target)){console.log("전송시도중");$(this).addClass("js-jp-active");$(this).find(".animated").removeClass("blind")}});function validateFormEstimate(a){if(a.find(".jp-customer-name").val().trim()===""){alert("성함을 입력해주세요.");a.find(".jp-customer-name").focus();return false}if(a.find("input[name='tel-first']").val().trim()===""){alert("연락처를 입력해주세요.");a.find("input[name='tel-first']").focus();return false}if(a.find("input[name='tel-mid']").val().trim()===""){alert("연락처를 입력해주세요.");a.find("input[name='tel-mid']").focus();return false}if(a.find("input[name='tel-end']").val().trim()===""){alert("연락처를 입력해주세요.");a.find("input[name='tel-end']").focus();return false}if(!a.find("#agreement").prop("checked")){alert("개인정보활용동의를 체크해주세요.");a.find("#agreement").focus();return false}target.submit();return true}function checkReferrer(){return document.referrer}$(window).bind("load",function(){$(".jp-hidden-referrer").val(checkReferrer())});